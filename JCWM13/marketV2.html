<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Market</title>
</head>

<body>

</body>
<script>
    //Deklarasi harga produk
    var hargaOreo = 8000
    var hargaChitato = 7900
    var hargaPonari = 7500
    
    //Deklarasi stock produk
    var stockOreo = 20
    var stockChitato = 15
    var stockPonari = 10

    alert('Selamat datang diToko Serba')
    //membuat multipleline ada dua cara
    //1. memanfaatkan "\n" jika menggunakan " " atau ' '
    //2. string concatation dengan langsung enter
    alert(`Produk dagangan : 
    1. Oreo = Rp. ${hargaOreo.toLocaleString()}
    2. Chitato = Rp. ${hargaChitato.toLocaleString()}
    3. Ponari Sweat = Rp. ${hargaPonari.toLocaleString()}`)
    
    //User memasukkan jumlah produk yang dibeli
    var beliOreo = parseInt(prompt(`Stock Oreo = ${stockOreo}, Beli Oreo berapa ?`))
    var beliChitato = parseInt(prompt(`Stock Chitato = ${stockChitato}, Beli Chitato berapa ?`))
    var beliPonari = parseInt(prompt(`Stock Ponari = ${stockPonari}, Beli Ponari Sweat berapa ?`))

    //Pengecekan kondisi apakah stock produk mencukupi jumlah produk yang dibeli
    if (beliOreo > stockOreo) { //jika jumlah yg dibeli melebihi stock
        alert("Maaf stock Oreo terbatas")
        beliOreo = 0 //jumlah pesanan dijadikan 0 atau dibatalkan
    }
    if (beliChitato > stockChitato) {
        alert("Maaf stock Chitato terbatas")
        beliChitato = 0
    }
    if (beliPonari > stockPonari) {
        alert("Maaf stock Ponari terbatas")
        beliPonari = 0
    }

    if (beliOreo == 0 || beliChitato == 0 || beliPonari == 0) {//menggunakan "or", jika ada pesanan yg 0 maka semua pesanan dibatalkan
        alert("Ulangi transaksi, ada pesanan yg melampaui batas stock")
    } else {
        let bayarOreo = hargaOreo * beliOreo
        let bayarChitato = hargaChitato * beliChitato
        let bayarPonari = hargaPonari * beliPonari

        var totalBayar = bayarOreo + bayarChitato + bayarPonari

        alert(`Total belanja anda adalah : \n1. Oreo Rp. ${hargaOreo} x ${beliOreo} = Rp. ${bayarOreo.toLocaleString()}\n2. Chitato Rp. ${hargaChitato} x ${beliChitato} = Rp. ${bayarChitato.toLocaleString()}\n3. Ponari Sweat Rp. ${hargaPonari} x ${beliPonari} = Rp. ${bayarPonari.toLocaleString()}
        Total pembayaran = Rp. ${totalBayar.toLocaleString()}`)

        var bayar = parseInt(prompt("Bayarkan uang anda : "))
        if (bayar < totalBayar) {
            alert("Maaf uang anda kurang transaksi batal")
        } else {
            stockOreo = stockOreo - beliOreo
            stockChitato = stockChitato - beliChitato
            stockPonari = stockPonari - beliPonari
            alert(`Terima kasih telah melakukan pembayaran, kembalian anda sebesar Rp. ${(bayar - totalBayar).toLocaleString()}`)
            alert(`Stock barang \n1. Stock Oreo = ${stockOreo}\n2. Stock Chitato = ${stockChitato}\n3. Stock Ponari = ${stockPonari}`)
        }
    }

</script>

</html>